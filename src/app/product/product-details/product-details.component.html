<div class="mt-32" *ngIf="!loading">
  <div class="container">
    <div class="grid grid-cols-12 gap-8">
      <!-- Main Content -->
      <div class="col-span-12 md:col-span-7 xl:col-span-8 border p-5">
        <a class="category text-primary inline-block mb-5">{{ article?.scategorie?.nomscategorie }}</a>
        <h1 class="_title font-medium">{{ article?.designation }}</h1>
        
        <ul class="product-meta flex flex-wrap items-center mt-8 mb-8">
          <li class="mr-4">
            <span class="flex items-center pr-4 py-1">
              <mat-icon class="mr-2" color="warn">inventory</mat-icon> 
              Stock: {{ article?.qtestock }}
            </span>
          </li>
          <li class="mr-4">
       
          </li>
        </ul>

        <img 
          class="w-full h-auto max-h-96 object-cover" 
          [src]="article?.imageart" 
          [alt]="article?.designation" 
        />

        <div class="ll-content mt-8">
          <h5>Product Details</h5>
          <p><strong>Brand:</strong> {{ article?.marque }}</p>
          <p><strong>Category:</strong> {{ article?.scategorie?.nomscategorie }}</p>
          
          <h6 class="mt-4">Description</h6>
          
        </div>
      </div>

      <!-- Sidebar -->
      <div class="col-span-12 md:col-span-5 xl:col-span-4">
        <div class="border">
          <div class="border-b text-center pt-10 pb-10">
            <div class="text-accent text-4xl font-semibold">â‚¬{{ article?.prix }}</div>
            <div class="font-medium text-lg mt-3 text-gray-400 tracking-wider">Price</div>
          </div>
          
          <div class="border-b p-5">
            <ul class="service-info">
              <li class="py-2 mr-2">
                <div class="flex items-center">
                  <mat-icon class="text-primary border-2 rounded-full w-6 h-6 text-center leading-5 mr-2">check</mat-icon>
                  <strong class="mr-2 font-black">In Stock:</strong> {{ article?.qtestock }} units
                </div>
              </li>
              <li class="py-2 mr-2">
                <div class="flex items-center">
                  <mat-icon class="text-primary border-2 rounded-full w-6 h-6 text-center leading-5 mr-2">check</mat-icon>
                  <strong class="mr-2 font-black">Brand:</strong> {{ article?.marque }}
                </div>
              </li>
              <li class="py-2 mr-2">
                <div class="flex items-center">
                  <mat-icon class="text-primary border-2 rounded-full w-6 h-6 text-center leading-5 mr-2">check</mat-icon>
                  <strong class="mr-2 font-black">Reference:</strong> {{ article?.reference }}
                </div>
              </li>
            </ul>
          </div>

          <div class="border-b px-5 pt-10 pb-12 text-center">
            <button 
              mat-flat-button 
              class="py-3 px-20 text-xl font-bold" 
              color="accent"
              (click)="addToCart()"
            >
              Add to Cart
            </button>
          </div>
        </div>

        <div class="border mt-5 px-5 py-10 text-center">
          <p class="font-bold mb-3">Need more information?</p>
          <button mat-stroked-button class="py-2 px-12 text-lg font-bold text-gray-700">
            Contact Us
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Loading State -->
<div *ngIf="loading" class="mt-32">
  <div class="container">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    <div class="text-center py-20">
      <mat-icon class="text-5xl mb-4">hourglass_empty</mat-icon>
      <h3 class="text-xl font-medium">Loading product details...</h3>
    </div>
  </div>
</div>

<!-- Error State (if needed) -->
<div *ngIf="!loading && !article" class="mt-32">
  <div class="container">
    <div class="text-center py-20">
      <mat-icon class="text-5xl mb-4 text-warn">error_outline</mat-icon>
      <h3 class="text-xl font-medium">Product not found</h3>
      <p class="text-gray-500 mt-2">The requested product could not be loaded</p>
      <button mat-raised-button color="primary" routerLink="/products" class="mt-4">
        Back to Products
      </button>
    </div>
  </div>
</div>